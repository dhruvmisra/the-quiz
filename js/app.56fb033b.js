(function(t){function e(e){for(var s,a,o=e[0],c=e[1],u=e[2],d=0,h=[];d<o.length;d++)a=o[d],r[a]&&h.push(r[a][0]),r[a]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);l&&l(e);while(h.length)h.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],s=!0,o=1;o<n.length;o++){var c=n[o];0!==r[c]&&(s=!1)}s&&(i.splice(e--,1),t=a(a.s=n[0]))}return t}var s={},r={app:0},i=[];function a(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=s,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)a.d(n,s,function(e){return t[e]}.bind(null,s));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/the-quiz/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var s=n("64a9"),r=n.n(s);r.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var s,r,i=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},o=[],c=(n("034f"),n("2877")),u={},l=Object(c["a"])(u,a,o,!1,null,null,null),d=l.exports,h=n("8c4f"),p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"fade"}},[t.hasEnded?n("section",[n("div",{staticClass:"container p-5 text-dark"},[n("div",{staticClass:"card p-5"},[n("div",{staticClass:"card-body"},[n("h1",{staticClass:"text-center text-success my-4 pb-5"},[t._v("User "+t._s(t.winner.userid)+" wins!")]),n("div",{staticClass:"winners row justify-content-center"},[n("div",{staticClass:"p-5",class:{winner:1==t.winner.userid}},[n("div",{staticClass:"user-img rounded-circle border"}),n("h5",{staticClass:"my-auto mx-3"},[t._v("User 1")]),n("p",{staticClass:"mt-1 mb-3"},[t._v("Final Score: "+t._s(t.playerdata.one.score))])]),n("h2",{staticClass:"mx-4 my-auto"},[t._v("VS")]),n("div",{staticClass:"p-5",class:{winner:2==t.winner.userid}},[n("div",{staticClass:"user-img rounded-circle border"}),n("h5",{staticClass:"my-auto mx-3"},[t._v("User 2")]),n("p",{staticClass:"mt-1 mb-3"},[t._v("Final Score: "+t._s(t.playerdata.two.score))])])])])])])]):n("section",{staticClass:"outer"},[t.secondplayer?t.secondplayer?n("div",{staticClass:"play"},[n("div",{staticClass:"users-head"},[n("p",{staticClass:"mx-auto"},[t._v("The Quiz")]),n("div",{staticClass:"container row mx-auto"},[n("div",{staticClass:"mx-auto"},[n("div",{staticClass:"row"},[n("div",{staticClass:"user-img rounded-circle border"}),n("h5",{staticClass:"my-auto mx-3"},[t._v("User 1")])]),n("p",{staticClass:"mt-1 mb-3"},[t._v("Score: "+t._s(t.playerdata.one.score))])]),t.secondplayer?n("div",{staticClass:"mx-auto"},[n("div",{staticClass:"row"},[n("div",{staticClass:"user-img rounded-circle border"}),n("h5",{staticClass:"my-auto mx-3"},[t._v("User 2")])]),n("p",{staticClass:"mt-1 mb-3"},[t._v("Score: "+t._s(t.playerdata.two.score))])]):t._e()]),n("p",{staticClass:"text-center pb-1"},[t._v("Time: "+t._s(t.timeLeft)+"s")]),n("div",{staticClass:"progress w-100"},[n("div",{staticClass:"progress-bar bg-warning",style:{width:this.timeLeft/10*100+"%"},attrs:{role:"progressbar","aria-valuenow":"75","aria-valuemin":"0","aria-valuemax":"100"}})])]),n("div",{staticClass:"container mt-4 pb-5"},[n("p",{staticClass:"question",class:{"question-after":t.hasAnswered}},[t._v(t._s(t.question.ques))]),n("div",{staticClass:"container mt-3"},[n("transition",{attrs:{name:"fade"}},[1==t.show?n("div",{staticClass:"options row justify-content-center mx-auto"},t._l(t.options,function(e){return n("button",{key:e.text,staticClass:"btn btn-option m-2 w-25 p-5",class:{wronganswer:t.hasAnswered&&!e.correct,correctanswer:t.hasAnswered&&e.correct},on:{click:function(n){return t.checkAnswer(e)}}},[t._v(t._s(e.text))])}),0):t._e()])],1)])]):t._e():n("div",{staticClass:"home"},[n("div",{staticClass:"container"},[n("div",{staticClass:"logo"},[n("h1",{staticStyle:{"font-size":"10em"}},[t._v("Q")]),n("h4",{staticClass:"display-4"},[t._v("The Quiz")])]),n("div",{staticClass:"row justify-content-around pt-5 my-5"},[n("div",{staticClass:"idDiv mb-5"},[n("p",[t._v("Share this ID with your friend to connect")]),n("h1",{staticClass:"text center"},[t._v(t._s(t.idToShow))])]),n("div",{staticClass:"inputDiv"},[n("p",[t._v("Or enter your friend's ID to start playing")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.idToConnect,expression:"idToConnect"}],staticClass:"form-control py-4 px-3 mx-auto",attrs:{type:"number",placeholder:"Enter ID to connect"},domProps:{value:t.idToConnect},on:{input:function(e){e.target.composing||(t.idToConnect=e.target.value)}}}),n("button",{staticClass:"btn btn-danger rounded-0 px-5 py-2 mt-3 w-100",attrs:{type:"button",disabled:null==t.idToConnect},on:{click:function(e){return t.connectToChannel(t.idToConnect)}}},[t._v("Connect")])])])])])])])},f=[],v=(n("3b2b"),n("782e")),w=n.n(v),m=new w.a("a7fe0a77fb100e0402d7",{cluster:"ap2",encrypted:!0,authEndpoint:"https://the-quiz-task.herokuapp.com/pusher/auth"}),x={getPresenceID:function(){var t=function(t,e){var n=e||window.location.href,s=new RegExp("[?&]"+t+"=([^&#]*)","i"),r=s.exec(n);return r?r[1]:null},e=t("id");return e="presence-"+e,e},subscribeToPusher:function(t){t=t?"presence-"+t:this.getPresenceID(),console.log(t);var e=m.subscribe(t);return e}},b=x,y=Object(c["a"])(b,s,r,!1,null,null,null),C=y.exports,g=[{ques:"Which is the World's Largest desert?",options:[{text:"Thar",correct:!1},{text:"Kalaharin",correct:!1},{text:"Sahara",correct:!0},{text:"Sonoran",correct:!1}],answer:"Sahara"},{ques:"Country that has the highest in Barley Production?",options:[{text:"China",correct:!1},{text:"India",correct:!1},{text:"France",correct:!1},{text:"Russia",correct:!0}],answer:"Russia"},{ques:"The metal whose salts are sensitive to light is?",options:[{text:"Zinc",correct:!1},{text:"Silver",correct:!0},{text:"Copper",correct:!1},{text:"Aluminium",correct:!1}],answer:"Silver"},{ques:"Mount Everest is located in?",options:[{text:"Nepal",correct:!0},{text:"India",correct:!1},{text:"Tibet",correct:!1},{text:"China",correct:!1}],answer:"Nepal"},{ques:"Which soil is suitable for agriculture?",options:[{text:"Red soil",correct:!1},{text:"Sand",correct:!1},{text:"Black soil",correct:!1},{text:"Peaty soil",correct:!0}],answer:"Peaty soil"},{ques:"The device used for measuring altitudes is?",options:[{text:"altimeter",correct:!0},{text:"ammeter",correct:!1},{text:"audiometer",correct:!1},{text:"galvanometer",correct:!1}],answer:"altimeter"},{ques:"The Gate way of India is?",options:[{text:"Chennai",correct:!1},{text:"Mumbai",correct:!0},{text:"Kolkata",correct:!1},{text:"New Delhi",correct:!1}],answer:"Mumbai"},{ques:"The chief ore of Aluminium is?",options:[{text:"Iron",correct:!1},{text:"Cryolite",correct:!1},{text:"Bauxite",correct:!0},{text:"Haematite",correct:!1}],answer:"Bauxite"}],_={name:"home",data:function(){return{presenceid:null,idToConnect:null,channel:null,hasEnded:!1,hasAnswered:!1,currentQuestionIndex:0,question:null,options:null,show:!1,correctanswer:null,timeLeft:10,count:null,countdown:null,players:1,secondplayer:!1,playerdata:{one:{id:null,score:0,userid:null},two:{id:null,score:0,userid:null}},userid:null,url:null}},created:function(){this.currentQuestionIndex=0,this.hasEnded=!1,this.fetchData()},methods:{fetchData:function(){if(this.presenceid=this.getUniqueId(),!this.checkPresenceID()){var t=-1===window.location.href.indexOf("?")?"?":"&";window.location.href=window.location.href+t+this.presenceid}this.url=window.location.href,this.loadQuestion(this.currentQuestionIndex),this.connectToChannel(this.idToConnect)},connectToChannel:function(t){this.channel=C.subscribeToPusher(t),this.defineChannel()},defineChannel:function(){var t=this,e=this.channel;e.bind("pusher:member_added",function(e){console.log("members",e),t.players+=1,t.secondplayer=!0}),e.bind("pusher:subscription_succeeded",function(e){console.log("subscription_succeeded",e),t.playerdata.one.userid=1,t.playerdata.two.userid=2,1!==e.count||t.playerdata.one.id?2===e.count&&(t.secondplayer=!0,t.playerdata.two.id=e.myID,t.userid=2):(t.playerdata.one.id=e.myID,t.userid=1)}),e.bind("pusher:member_removed",function(e){console.log("member",e),t.players-=1,t.secondplayer=!1}),e.bind("client-send",function(e){console.log("data",e),1===t.userid?t.playerdata.two.score=e.data.two.score:2===t.userid&&(t.playerdata.one.score=e.data.one.score)}),e.bind("client-has-answered",function(t){})},getUniqueId:function(){return"id="+Math.floor(1e10*Math.random()+1e5)%5e5},checkPresenceID:function(){var t=function(t,e){var n=e||window.location.href,s=new RegExp("[?&]"+t+"=([^&#]*)","i"),r=s.exec(n);return r?r[1]:null},e=t("id");return e},checkAnswer:function(t){var e=this,n=this.channel;this.hasAnswered=!0,clearInterval(this.countdown),t.text===this.correctanswer&&(1===this.userid?this.playerdata.one.score+=this.timeLeft:2===this.userid&&(this.playerdata.two.score+=this.timeLeft)),n.trigger("client-send",{data:this.playerdata}),n.trigger("client-has-answered",{hasAnswered:!0}),this.count=3;var s=setInterval(function(){e.count-=1,0===e.count&&(clearInterval(s),e.currentQuestionIndex++,e.loadQuestion(e.currentQuestionIndex),e.show=!1,e.showOptions())},1e3)},startTimer:function(){var t=this;this.channel;this.timeLeft=10,this.countdown=setInterval(function(){t.timeLeft--,0==t.timeLeft&&(clearInterval(t.countdown),t.timeOut())},1e3)},timeOut:function(){var t=this,e=this.channel;this.hasAnswered=!0,e.trigger("client-has-answered",{hasAnswered:!0}),this.count=3,this.countdown=setInterval(function(){t.count-=1,0===t.count&&(clearInterval(t.countdown),t.currentQuestionIndex++,t.loadQuestion(t.currentQuestionIndex),t.show=!1,t.showOptions())},1e3)},loadQuestion:function(t){if(this.hasAnswered=!1,t==g.length)this.endQuiz();else{var e=g[t];this.question=e,this.options=e.options,this.correctanswer=e.answer}},showOptions:function(){var t=this;setTimeout(function(){t.show=!0,t.startTimer()},1e3)},endQuiz:function(){this.hasEnded=!0}},watch:{secondplayer:function(t){this.showOptions()}},computed:{idToShow:function(){return this.presenceid.substring(3,this.presenceid.length)},winner:function(){return this.playerdata.one.score>this.playerdata.two.score?this.playerdata.one:this.playerdata.two}}},T=_,I=(n("7fc9"),Object(c["a"])(T,p,f,!1,null,"0d7bd338",null)),S=I.exports;i["default"].use(h["a"]);var O=new h["a"]({routes:[{path:"/",name:"home",component:S}]}),q=n("2f62");i["default"].use(q["a"]);var P=new q["a"].Store({state:{},mutations:{},actions:{}}),Q=n("5f5b");n("f9e3"),n("2dd8");i["default"].config.productionTip=!1,i["default"].use(Q["a"]),new i["default"]({router:O,store:P,render:function(t){return t(d)}}).$mount("#app")},"64a9":function(t,e,n){},"7fc9":function(t,e,n){"use strict";var s=n("bb8a"),r=n.n(s);r.a},bb8a:function(t,e,n){}});
//# sourceMappingURL=app.56fb033b.js.map